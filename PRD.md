# 产品需求文档（PRD）
## Agent & Skills 管理平台

---

## 1. 产品概述

### 1.1 产品定位
Agent & Skills 管理平台是一个低代码智能体创建和管理系统，允许用户通过可视化界面创建、配置和管理AI智能体及其技能组件。

### 1.2 目标用户
- AI应用开发者
- 产品经理
- 技术团队
- 需要快速构建AI助手的企业用户

### 1.3 核心价值
- 降低AI智能体开发门槛
- 提供可视化配置界面
- 支持技能模块化管理
- 快速原型验证和迭代

---

## 2. 功能需求

### 2.1 导航系统

#### 2.1.1 垂直导航栏
- **位置**：页面左侧固定
- **宽度**：200px
- **背景色**：#F1EFE4
- **内容**：
  - Logo区域（顶部）
  - Agent仓库
  - Skills仓库
- **交互**：
  - 选中状态：背景色 #E4E1D2，左侧边框 #D97757
  - Hover状态：背景色 #E4E1D2

#### 2.1.2 主题色规范
- 主色：#FFCB00
- 背景色：#F7F5EE
- 辅助深色：#303133
- 导航背景：#F1EFE4
- 文字色：#D97757（选中状态）

---

### 2.2 Agent仓库模块

#### 2.2.1 列表页面

**页面布局**
- 标题："Agent仓库"（左侧）
- 创建按钮："创建智能体"（右侧）
- 卡片网格展示（横向排列，自适应）

**卡片设计**
- 图标区域：60x60px，支持自定义上传或默认首字母
- 智能体名称
- 编辑时间
- 功能描述（最多2行，超出省略）
- 操作按钮：删除（仅图标）
- 交互：点击卡片进入编辑页

**创建智能体按钮**
- 直接点击"创建智能体"按钮打开创建对话框
- 无下拉菜单，简化创建流程

#### 2.2.2 创建智能体流程

**对话框内容**
1. 智能体名称（必填，50字符限制）
2. 智能体功能介绍（可选，10000字符限制）
3. 图标上传（可选）
   - 支持图片格式
   - Hover显示编辑按钮

**功能逻辑**
- 填写完成后点击"确定"
- 创建智能体并进入编辑页面

#### 2.2.3 Agent编辑页面

**顶部栏**
- 返回按钮（左侧）
- 智能体图标（40x40px）
- 智能体名称
- 编辑按钮（修改名称、描述、图标）
- 保存按钮（右侧）

**三栏布局**（每栏最小宽度400px，等宽，flex: 1）

**左栏：人设与回复逻辑**
- 标题栏（56px高度）
- 功能按钮：
  - 智能生成提示词（第一个按钮）
  - 提交到提示词库
  - 提示词库
- 提示词输入区（多行文本框，占满剩余空间）

**中栏：编排**
- 标题栏（56px高度）
- 模型设置
  - 下拉选择器（自定义样式）
  - 选项：glm-4.7-anthropic、豆包-1.5-Pro-32k、gpt-4
- 技能
  - 添加按钮
  - 已添加技能列表（可删除）
- 工具
  - MCP（可添加）
  - MDP（置灰，暂不可用）
- 知识
  - 知识库（可添加）

**右栏：预览与调试**
- 标题栏（56px高度）
- 功能按钮：
  - 调试详情
  - 删除对话记录
- 聊天预览区
  - 用户消息（右侧，紫色背景）
  - AI消息（左侧，米色背景）
  - 消息元信息（耗时、Tokens）
- 输入区
  - 上传文件按钮
  - 单行输入框
  - 发送按钮

**调试详情面板**（第四栏，400px宽度）
- 性能指标
  - 耗时
  - Tokens
  - requestId（可复制）
- 调用组件
  - 显示调用的技能和模型
- 节点详情
  - 类型、状态、名称、耗时、时间
- 输入/输出
  - 代码块展示

**交互逻辑**
- 点击"调试详情"按钮，第四栏从右侧展开
- 页面宽度不足时出现横向滚动条
- 点击"保存"显示toast"保存成功"并返回仓库页

#### 2.2.4 智能生成提示词功能

**对话框内容**
1. **智能体用途描述**（必填）
   - 多行文本输入
   - 字符限制：1000字
   - 说明文字：描述智能体的功能和用途，AI将根据描述生成专业的提示词

2. **生成风格**（单选）
   - 专业严谨：基于行业最佳实践，结构化专业输出
   - 友好亲切：轻松友好的沟通风格，易于理解
   - 创意活泼：充满创意和趣味性的表达方式
   - 简洁高效：直击要点，简洁明了的风格

**功能逻辑**
- 根据用途描述和选择的风格生成对应的提示词
- 生成的提示词自动填入左侧编辑区
- 显示"提示词已生成"成功提示

#### 2.2.5 添加技能/MCP/知识库

**对话框设计**
- 搜索框（顶部）
- 列表展示
  - 图标、名称、描述、发布时间
  - "添加"按钮（点击后变为"已添加"）
- 滚动区域：仅列表内容滚动

**功能逻辑**
- 点击"添加"后，项目出现在编排栏
- 已添加项目Hover显示删除按钮（红色X图标）
- 删除操作无需二次确认

#### 2.2.6 提示词库功能

**提交到提示词库**
- 提示词名称（必填，20字符）
- 提示词描述（可选，50字符）
- 提示词内容（自动填充当前编辑的内容，只读）

**提示词库浏览**
- 左侧：提示词列表
- 右侧：预览内容
- 底部："插入提示词"按钮

---

### 2.3 Skills仓库模块

#### 2.3.1 列表页面

**页面布局**
- 标题："Skills仓库"（左侧）
- 创建按钮："创建技能"（右侧）
- 卡片网格展示

**卡片设计**
- 图标区域：60x60px
- 技能名称
- 编辑时间
- 功能描述
- 操作按钮：删除
- 交互：点击卡片进入编辑页

#### 2.3.2 创建技能流程

**三选一选项**（单选）
1. **导入技能**
   - 上传ZIP文件
   - 拖拽上传区域
   - 显示已选文件名

2. **自然语言创建**
   - 多行文本输入框
   - 描述技能功能和用途
   - **选择MCP**（可选）：多选列表，可勾选多个MCP
   - **选择MDP**（可选）：多选列表，可勾选多个MDP

3. **从空白创建**
   - 技能名称（必填，50字符）
   - 技能描述（可选，500字符）
   - 图标上传（可选）

**交互逻辑**
- 选择一个选项后，下方显示对应的输入区域
- 点击"去创建"进入相应流程

#### 2.3.3 技能编辑页面

**顶部栏**（与Agent编辑页一致）
- 返回按钮
- 技能图标（40x40px）
- 技能名称
- 编辑按钮
- 保存按钮

**左侧边栏**（240px宽度）
- 文件树
  - SKILL.md（当前文件）
  - assets/
  - references/
  - scripts/
- 文件图标区分

**主编辑区**
- 文件标签页（顶部）
- 行号显示（左侧，50px宽度）
- 代码编辑区
  - 等宽字体
  - 支持滚动
  - 行号同步滚动
  - 自动更新行号

**功能逻辑**
- 代码区域完全可编辑
- 保存时显示toast"保存成功"并返回仓库页
- 编辑按钮可修改技能名称、描述、图标

---

## 3. 交互规范

### 3.1 通用交互

**模态框**
- 不使用浏览器原生弹窗
- 自定义对话框设计
- 标题栏、内容区、底部按钮栏
- 滚动：仅内容区滚动，标题和底部固定

**通知提示**
- 位置：页面顶部居中
- 自动消失：3秒
- 类型：成功（绿色）、错误（红色）、信息（灰色）

**确认对话框**
- 删除智能体/技能需要二次确认
- 编辑页内的删除操作无需确认

**下拉选择器**
- 自定义样式，不使用浏览器原生组件
- 圆角、阴影、Hover效果

### 3.2 按钮规范

**主按钮**
- 背景色：#FFCB00
- Hover：#e6b700
- 文字色：#303133

**次要按钮**
- 背景色：白色
- 边框：#e5e5e5
- Hover：#f5f5f5

**图标按钮**
- 无背景
- Hover：颜色变为 #FFCB00
- 显示tooltip

### 3.3 表单规范

**输入框**
- 边框：#e5e5e5
- Focus：边框变为 #FFCB00
- 字符计数器（右下角）

**文本域**
- 最小高度根据用途设定
- 支持垂直调整大小
- 字符计数器

**图标上传**
- 80x80px预览区域
- Hover显示编辑按钮
- 支持图片格式验证

---

## 4. 视觉设计

### 4.1 色彩系统

| 用途 | 颜色值 | 说明 |
|------|--------|------|
| 主色 | #FFCB00 | 按钮、强调色 |
| 背景色 | #F7F5EE | 页面背景 |
| 导航背景 | #F1EFE4 | 左侧导航栏 |
| 导航选中 | #E4E1D2 | 选中项背景 |
| 深色文字 | #303133 | 标题、正文 |
| 中性文字 | #606266 | 描述文字 |
| 浅色文字 | #909399 | 辅助信息 |
| 强调文字 | #D97757 | 导航选中 |
| 成功色 | #67C23A | 成功提示 |
| 错误色 | #F56C6C | 错误提示 |
| 边框色 | #e5e5e5 | 分割线、边框 |

### 4.2 字体规范

| 用途 | 字号 | 字重 |
|------|------|------|
| 页面标题 | 24px | 600 |
| 模块标题 | 18px | 600 |
| 栏目标题 | 15px | 600 |
| 正文 | 14px | 400 |
| 辅助文字 | 13px | 400 |
| 小字 | 12px | 400 |
| 代码 | 13px | 400 (等宽) |

### 4.3 间距规范

- 页面边距：24px
- 卡片间距：20px
- 组件间距：16px
- 元素间距：12px
- 小间距：8px
- 微间距：4px

### 4.4 圆角规范

- 卡片：12px
- 按钮：6px
- 输入框：6px
- 图标：8px
- 小元素：4px

### 4.5 阴影规范

- 卡片：0 2px 12px rgba(0,0,0,0.06)
- 卡片Hover：0 4px 20px rgba(0,0,0,0.1)
- 下拉框：0 4px 12px rgba(0,0,0,0.1)
- 模态框：0 4px 16px rgba(0,0,0,0.1)

---

## 5. 技术规范

### 5.1 响应式设计

**断点设置**
- 最小宽度：1200px
- 三栏布局最小宽度：400px/栏
- 宽度不足时出现横向滚动

**自适应规则**
- 卡片网格：自动填充，最小300px
- 三栏布局：等宽分配（flex: 1）
- 调试面板：固定400px宽度

### 5.2 性能要求

- 页面加载时间：< 2秒
- 交互响应时间：< 100ms
- 动画帧率：60fps
- 图片压缩：< 500KB

### 5.3 浏览器兼容性

- Chrome 90+
- Safari 14+
- Firefox 88+
- Edge 90+

---

## 6. 数据结构

### 6.1 Agent数据模型

```javascript
{
  id: Number,              // 唯一标识
  name: String,            // 智能体名称
  description: String,     // 功能描述
  icon: String | null,     // 图标URL
  prompt: String,          // 提示词内容
  updatedAt: String,       // 更新时间 (YYYY-MM-DD)
  selectedSkills: Array,   // 选中的技能列表
  selectedMCPs: Array      // 选中的MCP列表
}
```

### 6.2 Skill数据模型

```javascript
{
  id: Number,              // 唯一标识
  name: String,            // 技能名称
  description: String,     // 功能描述
  icon: String | null,     // 图标URL
  updatedAt: String        // 更新时间 (YYYY-MM-DD)
}
```

---

## 7. 用户流程

### 7.1 创建Agent流程

```
1. 点击"创建智能体"按钮
2. 填写智能体名称（必填）
3. 填写智能体功能介绍（可选）
4. 上传图标（可选）
5. 点击"确定"
6. 进入编辑页面
7. 可选：点击"智能生成提示词"按钮
   - 填写智能体用途描述
   - 选择生成风格
   - 点击"生成提示词"
   - 提示词自动填入编辑区
8. 手动编辑或使用生成的提示词
9. 添加技能、MCP、知识库（可选）
10. 点击"保存"
11. 返回仓库页，显示新创建的智能体
```

### 7.2 自然语言创建Skill流程

```
1. 点击"创建技能" → 选择"自然语言创建"
2. 填写技能功能描述
3. 勾选需要的MCP（可选）
4. 勾选需要的MDP（可选）
5. 点击"去创建"
6. 系统根据描述和选择生成技能代码
7. 进入代码编辑器
8. 编辑调整（可选）
9. 点击"保存"
10. 返回仓库页，显示新创建的技能
```

### 7.3 从空白创建Skill流程

```
1. 点击"创建技能" → 选择"从空白创建"
2. 填写技能名称（必填）
3. 填写技能描述（可选）
4. 上传图标（可选）
5. 点击"去创建"
6. 进入代码编辑器
7. 编写SKILL.md文件
8. 点击"保存"
9. 返回仓库页，显示新创建的技能
```

---

## 8. 异常处理

### 8.1 表单验证

- 必填项为空：显示错误提示
- 字符超限：输入框限制输入
- 文件格式错误：显示错误提示
- 图片大小超限：显示错误提示

### 8.2 操作确认

- 删除智能体：二次确认对话框
- 删除技能：二次确认对话框
- 返回操作：直接返回（不保存草稿）

### 8.3 成功反馈

- 创建成功：Toast提示
- 保存成功：Toast提示 + 返回列表
- 添加成功：Toast提示
- 删除成功：Toast提示

---

## 9. 未来规划

### 9.1 短期规划（1-3个月）

- [ ] MDP功能开发
- [ ] 自然语言创建技能实现（AI生成代码）
- [ ] 智能生成提示词优化（更多风格选项）
- [ ] 批量操作功能
- [ ] 搜索和筛选功能

### 9.2 中期规划（3-6个月）

- [ ] 版本管理功能
- [ ] 协作编辑功能
- [ ] 模板市场
- [ ] 数据统计和分析
- [ ] API接口开放

### 9.3 长期规划（6-12个月）

- [ ] 多语言支持
- [ ] 移动端适配
- [ ] 插件系统
- [ ] 企业级权限管理
- [ ] 云端部署方案

---

## 10. 附录

### 10.1 术语表

| 术语 | 说明 |
|------|------|
| Agent | 智能体，具备特定能力的AI助手 |
| Skill | 技能，可被Agent调用的功能模块 |
| MCP | Model Context Protocol，模型上下文协议 |
| MDP | Model Data Protocol，模型数据协议（待开发） |
| 提示词 | Prompt，用于指导AI行为的文本指令 |
| 智能生成 | 基于AI的自动提示词生成功能 |
| 常规创建 | 通过完整表单创建智能体 |

### 10.2 参考资料

- Coze平台设计规范
- Material Design指南
- 低代码平台最佳实践

---

**文档版本**：v1.1  
**创建日期**：2026-01-20  
**最后更新**：2026-01-20  
**文档状态**：已完成

**v1.1 更新内容**：
- 移除Agent极速创建功能，简化为直接创建流程
- 新增"智能生成提示词"功能，支持4种生成风格
- Skills自然语言创建增加MCP和MDP选择功能
- 优化用户流程和交互体验
